<md-toolbar class="top-bar">
  <div class="md-toolbar-tools" layout="row" layout-align="start center">
    <h2>
      <span>Vizit</span>
    </h2>
    <span flex></span>
    <!-- <md-button class="md-icon-button" aria-label="Favorite"> -->
      <ng-md-icon icon="account_circle" style="fill: white;"></ng-md-icon> 
    <!-- </md-button> -->
  </div>
</md-toolbar>
<md-content flex layout="row">
	<md-content class="entity-list" layout="column" layout-padding flex="20" ng-hide="ach.fullscreen">
		<md-input-container class="entity-selection">
      <label>Entity Type</label>
      <md-select ng-model="entityType">
        <md-option ng-repeat="entityType in entityTypes" value="{{entityType}}">{{entityType}}</md-option>
      </md-select>
    </md-input-container>
    <md-content class="entity-list-container" flex>
      <md-card>
				<md-card-content>
					<md-virtual-repeat-container auto-height id="vertical-container">
			      <div md-virtual-repeat="entity in entities | filter: {type: entityType}" class="entity-container" flex>
	            	<div class="entity-relevance">
	            	</div>
	            	<div class="entity" layout="row">
	        				<div class="entity-count">
	        					<div class="bar" ng-style="{ 'width' : getOccurenceWidth(entity.tfidf) }"></div>
	        				</div>
	            		<span flex class="entity-text">{{entity.text}}</span>
	            	</div>
			      </div>
			    </md-virtual-repeat-container>
			    <!-- <div ng-repeat="entity in entities | filter: {type: entityType}" class="entity-container">
			    	<div class="entity-relevance">
			    	</div>
			    	<div class="entity" layout="row">
							<div class="entity-count">
								<div class="bar" ng-style="{ 'width' : getOccurenceWidth(entity.tfidf) }"></div>
							</div>
			    		<span flex class="entity-text">{{entity.text}}</span>
			    	</div>
			    </div> -->
				</md-card-content>
      </md-card>
    </md-content>
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
      <md-button class="md-icon-button md-primary" aria-label="sort_alphabetically">
        <ng-md-icon icon="sort"></ng-md-icon>
      </md-button>
      <md-button class="md-icon-button md-accent" aria-label="sort_frequency">
        <ng-md-icon icon="filter_list"></ng-md-icon>
      </md-button>
      <md-button class="md-icon-button" aria-label="sort_connection">
        <ng-md-icon icon="swap_calls"></ng-md-icon>
      </md-button>
    </section>
	</md-content>
	<md-content flex layout-padding class="ach-browser">
		<div ach-canvas class="ach-canvas"></div>
		<div class="search-input">
			<md-input-container class="md-icon-float" >
			      <!-- Use floating label instead of placeholder -->
	      <label>ACH</label>
	      <md-icon><ng-md-icon icon="create"></ng-md-icon></md-icon>
	      <input ng-model="ach.searchInput" type="text">
	    </md-input-container>
		</div>
		<div class="editor-tools" layout="row">
			<md-button class="md-icon-button md-primary" aria-label="fullscreen_exit" ng-click="ach.fullscreen = false">
			  <ng-md-icon icon="fullscreen_exit" size="32"
			  ng-class="{selected: !ach.fullscreen}"></ng-md-icon> 
			</md-button>
			<md-button class="md-icon-button md-primary" aria-label="fullscreen" ng-click="ach.fullscreen = true">
			  <ng-md-icon icon="fullscreen" size="32"
			  ng-class="{selected: ach.fullscreen}"></ng-md-icon>
			</md-button>
		</div>
		<md-fab-speed-dial md-open="ach.toolbar.isOpen" md-direction="right" class="ach-toolbar">
      <md-fab-trigger>
        <md-button aria-label="menu" class="md-fab md-warn">
          <ng-md-icon icon="menu" style="fill: white;"></ng-md-icon>
        </md-button>
      </md-fab-trigger>
      <md-fab-actions>
        <md-button aria-label="add" class="md-fab md-raised md-mini">
          <ng-md-icon icon="add"></ng-md-icon> 
        </md-button>
      </md-fab-actions>
      <md-fab-actions>
        <md-button aria-label="delete" class="md-fab md-raised md-mini">
          <ng-md-icon icon="clear"></ng-md-icon> 
        </md-button>
      </md-fab-actions>
      <md-fab-actions>
        <md-button aria-label="provenance" class="md-fab md-raised md-mini">
          <ng-md-icon icon="trending_up"></ng-md-icon> 
        </md-button>
      </md-fab-actions>
    </md-fab-speed-dial>
	</md-content>
</md-content>
<md-content flex="25" layout="column" ng-hide="ach.fullscreen">
	<div layout="row">
			<md-toolbar flex="20" class="top-bar">
			  <div class="md-toolbar-tools" layout="row" layout-align="center center">
			    <!-- <md-button class="md-icon-button" aria-label="Favorite"> -->
	      	<md-button class="md-icon-button md-primary" aria-label="sort">
		        <ng-md-icon icon="sort" style="fill: white;"></ng-md-icon>
		      </md-button>
	      	<md-button class="md-icon-button md-primary" aria-label="visibility">
		        <ng-md-icon icon="visibility" style="fill: white;"></ng-md-icon>
		      </md-button>
			    <!-- </md-button> -->
			  </div>
			</md-toolbar>
			<md-toolbar flex class="top-bar">
			  <div class="md-toolbar-tools" layout="row" layout-align="start center">
			    <!-- <md-button class="md-icon-button" aria-label="Favorite"> -->
			    <!-- <ng-md-icon icon="text_format" style="fill: white;"></ng-md-icon> -->
			    <md-button class="md-icon-button md-primary" aria-label="showTextToggle" ng-click="showDocumentText = !showDocumentText">
			      <ng-md-icon icon="{{showDocumentText ? 'list' : 'text_format'}}" style="fill: white;"></ng-md-icon>
			    </md-button>
		      <span flex></span>
		      <md-button class="md-icon-button md-primary" aria-label="add">
		        <ng-md-icon icon="add" style="fill: white;"></ng-md-icon>
		      </md-button>
		      <md-button class="md-icon-button md-primary" aria-label="note_add">
		        <ng-md-icon icon="note_add" style="fill: white;"></ng-md-icon>
		      </md-button>
			    <!-- </md-button> -->
			  </div>
			</md-toolbar>
	</div>
	<md-content flex layout="row">
		<!-- <div layout-padding flex="20" layout="column"> -->
	  	<md-card flex="20" class="document-list" layout="column">
		    <md-content>
		       <md-card-content flex>
		       	<div class="document-item" ng-click="selectDocument(document)" ng-repeat="document in documents" layout="row" layout-align="space-between center" ng-class="{selected: document.name === selectedDocument.name}">
		       		<span flex="20">{{document.viewCount}}</span>
		       		<span flex>{{document.name}}</span>
		       	</div>
		       </md-card-content>
		    </md-content>
	      <div class="document-list-search">
	      	<md-input-container class="md-icon-float" >
	    	      <!-- Use floating label instead of placeholder -->
	          <label>Documents</label>
	          <md-icon><ng-md-icon icon="search"></ng-md-icon></md-icon>
	          <input ng-model="ach.searchInput" type="text">
	        </md-input-container>
	      </div>
	  	</md-card>
		<!-- </div> -->
		<md-content layout-padding class="document-viewer" layout="column" flex>
		  <md-content flex>
				<p ng-show="showDocumentText" class="document-text" ng-bind-html="selectedDocument.text | sentences | to_trusted" compile-template></p>
				<div ng-hide="showDocumentText" class="document-entities">
					<div class="document-entity-type" ng-repeat="(entityType, entityArray) in selectedDocument.entities">
						<span class="{{entityType}}">{{entityType}}</span>
						<span ng-repeat="entity in entityArray">{{entity.text}}</span>
					</div>
				</div>
		  </md-content>
		  <div layout="row">
		  	<span flex=""></span>
		  	<md-input-container class="md-icon-float" >
			      <!-- Use floating label instead of placeholder -->
		      <label>Current Document</label>
		      <md-icon><ng-md-icon icon="search"></ng-md-icon></md-icon>
		      <input ng-model="ach.searchInput" type="text">
		    </md-input-container>
		  </div>
		</md-content>
	</md-content>
</md-content>